language: node_js
node_js:
- '6.9'
cache:
  directories:
    - node_modules
branches:
  only:
  - rs_master
install: "npm i && npm update"
before_deploy:
  - npm run build
script: echo "skipping npm test for RS build"
deploy:
  - provider: s3
    bucket: governance-policies-docs
    region: us-east-1
    skip_cleanup: true
    local_dir: $TRAVIS_BUILD_DIR/$WORK_DIR/dist
    upload_dir: /
    acl: public_read
    access_key_id: "$S3_KEY_ID_RS_DOCS_TOOLS"
    secret_access_key: "$S3_KEY_SECRET_RS_DOCS_TOOLS"
    on:
      branches:
        only:
          - rs_master
